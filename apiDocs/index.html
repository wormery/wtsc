<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@wormery/wtsc</title><meta name="description" content="Documentation for @wormery/wtsc"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@wormery/wtsc</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> @wormery/wtsc</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#简介" id="简介" style="color: inherit; text-decoration: none;">
  <h1>简介</h1>
</a>
<p>WTSC 主要功能是管理主题切换，生成 css，响应式更改，当你切换主题后，不管是 React 还是 vue2 vue3 都可以响应更改主题，未来会增加的功能中还会有自动生成对应的 wtsc 声名等功能</p>

<a href="#预览" id="预览" style="color: inherit; text-decoration: none;">
  <h1>预览</h1>
</a>
<p>可以补全您的代码</p>
<p>如图：</p>
<p><img src="./doc/imgs/2022-03-24_15-26-57.png" alt=""></p>

<a href="#快速开始" id="快速开始" style="color: inherit; text-decoration: none;">
  <h1>快速开始</h1>
</a>
<ol>
<li>引入</li>
</ol>
<p><strong>使用 npm 安装:</strong></p>
<blockquote>
<p>npm install @wormery/wtsc</p>
</blockquote>
<p><strong>使用 pnpm 安装:</strong></p>
<blockquote>
<p>pnpm install @wormery/wtsc</p>
</blockquote>
<ol start="2">
<li>使用</li>
</ol>
<pre><code class="language-typescript"><span class="hl-0">//引入</span><br/><span class="hl-1">import</span><span class="hl-2"> {</span><span class="hl-3">defTypeWTSC</span><span class="hl-2">  </span><span class="hl-3">defBaseWTSC</span><span class="hl-2">, </span><span class="hl-3">ConstraninedParsers</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&#39;@wormery/wtsc&#39;</span><br/><span class="hl-0">//TypeWTSC拥有更多类型声明,适配类型声名的情况可以看https://github.com/wormery/wtsc/blob/dev/doc/TASK.md</span><br/><span class="hl-0">//但是Typeapi正在更新，改变幅度可能会有点大，好吧测试版本，其他api也是动不动就删除哈哈</span><br/><br/><span class="hl-0">//定义WTSC,</span><br/><span class="hl-0">//这里没有默认值了是因为类型嵌套太多导致运行的不是太流畅，重构的自己都不知道之前怎么写的了</span><br/><span class="hl-0">//第二增加了一个主题的功能，这的肯定是要手动定义的了</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">wtsc</span><span class="hl-2"> = </span><span class="hl-7">defTypeWTSC</span><span class="hl-2">({})</span><br/><br/><span class="hl-0">//使用测试</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">style</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">width</span><span class="hl-2">(</span><span class="hl-7">px</span><span class="hl-2">(</span><span class="hl-8">20</span><span class="hl-2">)).</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">height</span><span class="hl-2">(</span><span class="hl-7">PE</span><span class="hl-2">(</span><span class="hl-8">30</span><span class="hl-2">)).</span><span class="hl-7">out</span><span class="hl-2">()</span><br/><span class="hl-0">//打印测试</span><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-3">style</span><span class="hl-2">)</span><br/><span class="hl-0">//printed: width: 20px;height: 30%;</span>
</code></pre>

<a href="#keyframes" id="keyframes" style="color: inherit; text-decoration: none;">
  <h2>@keyframes</h2>
</a>
<p>用于输出关键帧动画</p>
<pre><code class="language-typescript"><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-3">add</span><br/><span class="hl-2">  .</span><span class="hl-7">height</span><span class="hl-2">(</span><span class="hl-4">&#39;20px&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">  .</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">width</span><span class="hl-2">(</span><span class="hl-4">&#39;20px&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">  .</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">animationName</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-7">keyframes</span><span class="hl-2">(</span><br/><span class="hl-2">      </span><span class="hl-4">&#39;test&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      (</span><span class="hl-3">a</span><span class="hl-2">, </span><span class="hl-3">w</span><span class="hl-2">) </span><span class="hl-5">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-7">a</span><span class="hl-2">(</span><span class="hl-4">&#39;from&#39;</span><span class="hl-2">, </span><span class="hl-3">w</span><span class="hl-2">.</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">borderRadius</span><span class="hl-2">(</span><span class="hl-7">PE</span><span class="hl-2">(</span><span class="hl-8">50</span><span class="hl-2">)))</span><br/><span class="hl-2">        </span><span class="hl-7">a</span><span class="hl-2">(</span><span class="hl-4">&#39;to&#39;</span><span class="hl-2">, </span><span class="hl-3">w</span><span class="hl-2">.</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">borderRadius</span><span class="hl-2">(</span><span class="hl-7">PE</span><span class="hl-2">(</span><span class="hl-8">0</span><span class="hl-2">)))</span><br/><span class="hl-2">      },</span><br/><span class="hl-2">      </span><span class="hl-3">wtsc</span><br/><span class="hl-2">    )</span><br/><span class="hl-2">  )</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">part</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">out</span><span class="hl-2">()</span><br/><span class="hl-3">assert</span><span class="hl-2">.</span><span class="hl-7">equal</span><span class="hl-2">(</span><span class="hl-3">part</span><span class="hl-2">, </span><span class="hl-4">&#39;height: 20px;width: 20px;animation-name: root-test;&#39;</span><span class="hl-2">)</span>
</code></pre>

<a href="#class-输出" id="class-输出" style="color: inherit; text-decoration: none;">
  <h2>class 输出</h2>
</a>
<p>使用 class 输出后将会把<strong>前面</strong>的 style，并入 class 存储器，使用 out 进入输出流程</p>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">value</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">sham</span><span class="hl-2">().</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">height</span><span class="hl-2">(</span><span class="hl-7">px</span><span class="hl-2">(</span><span class="hl-8">20</span><span class="hl-2">)).</span><span class="hl-7">class</span><span class="hl-2">(</span><span class="hl-4">&#39;classSelector&#39;</span><span class="hl-2">).</span><span class="hl-7">out</span><span class="hl-2">()</span><br/><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-3">vlaue</span><span class="hl-2">) </span><span class="hl-0">// classSelector</span>
</code></pre>
<p>这个 api 在 nextTick()执行（这样可以避免在同步线程内多次更新 dom,增加运行效率，你可以放心的添加 class）</p>

<a href="#与局部-api-混合双打！" id="与局部-api-混合双打！" style="color: inherit; text-decoration: none;">
  <h3>与局部 api 混合双打！</h3>
</a>
<pre><code class="language-typescript"><span class="hl-2">- </span><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">value</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">sham</span><span class="hl-2">()</span><br/><span class="hl-2">+ </span><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">value</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">scoped</span><span class="hl-2">(</span><span class="hl-4">&#39;具名&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">                .</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">height</span><span class="hl-2">(</span><span class="hl-7">px</span><span class="hl-2">(</span><span class="hl-8">20</span><span class="hl-2">))</span><br/><span class="hl-2">                .</span><span class="hl-7">class</span><span class="hl-2">(</span><span class="hl-4">&#39;classSelector&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">              .</span><span class="hl-7">out</span><span class="hl-2">()</span><br/><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-3">value</span><span class="hl-2">) </span><span class="hl-0">// 具名-classSelector</span><br/><br/><span class="hl-0">// 随机</span><br/><span class="hl-2">- </span><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">value</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">scoped</span><span class="hl-2">(</span><span class="hl-4">&#39;具名&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">+ </span><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">value</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">scoped</span><span class="hl-2">()</span><br/><span class="hl-2">                .</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">height</span><span class="hl-2">(</span><span class="hl-7">px</span><span class="hl-2">(</span><span class="hl-8">20</span><span class="hl-2">))</span><br/><span class="hl-2">                .</span><span class="hl-7">class</span><span class="hl-2">(</span><span class="hl-4">&#39;classSelector&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">              .</span><span class="hl-7">out</span><span class="hl-2">()</span><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-3">value</span><span class="hl-2">) </span><span class="hl-0">// (随机哈希)-classSelector</span>
</code></pre>

<a href="#伪类输出" id="伪类输出" style="color: inherit; text-decoration: none;">
  <h3>伪类输出</h3>
</a>
<p>伪类必须在类后面定义如下面所见</p>
<p>也可以这么用</p>
<pre><code class="language-typescript"><span class="hl-0">// ./class.wtsc.ts</span><br/><span class="hl-5">function</span><span class="hl-2"> </span><span class="hl-7">createHoverColor</span><span class="hl-2">(</span><br/><span class="hl-2">  </span><span class="hl-3">color</span><span class="hl-2">: </span><span class="hl-9">RGBColor</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-3">overlayAlpha</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2"> = </span><span class="hl-8">0.50</span><br/><span class="hl-2">): </span><span class="hl-9">RGBColor</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">mixColor</span><span class="hl-2">(</span><span class="hl-3">color</span><span class="hl-2">, </span><span class="hl-7">rgb</span><span class="hl-2">(</span><span class="hl-8">255</span><span class="hl-2">, </span><span class="hl-8">255</span><span class="hl-2">, </span><span class="hl-8">255</span><span class="hl-2">, </span><span class="hl-3">overlayAlpha</span><span class="hl-2">));</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-5">function</span><span class="hl-2"> </span><span class="hl-7">createPressedColor</span><span class="hl-2">(</span><br/><span class="hl-2">  </span><span class="hl-3">color</span><span class="hl-2">: </span><span class="hl-9">RGBColor</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-3">overlayAlpha</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2"> = </span><span class="hl-8">0.15</span><br/><span class="hl-2">): </span><span class="hl-9">RGBAColor</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">mixColor</span><span class="hl-2">(</span><span class="hl-3">color</span><span class="hl-2">, </span><span class="hl-7">rgb</span><span class="hl-2">(</span><span class="hl-8">0</span><span class="hl-2">, </span><span class="hl-8">0</span><span class="hl-2">, </span><span class="hl-8">0</span><span class="hl-2">, </span><span class="hl-3">overlayAlpha</span><span class="hl-2">))</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">color</span><span class="hl-2"> = </span><span class="hl-7">rgb</span><span class="hl-2">(</span><span class="hl-8">250</span><span class="hl-2">, </span><span class="hl-8">0</span><span class="hl-2">, </span><span class="hl-8">0</span><span class="hl-2">)</span><br/><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-1">default</span><span class="hl-2"> (</span><span class="hl-3">w</span><span class="hl-2">) </span><span class="hl-5">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-10">button</span><span class="hl-2">: </span><span class="hl-3">w</span><span class="hl-2">.</span><span class="hl-7">sham</span><span class="hl-2">()</span><br/><span class="hl-2">              .</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">height</span><span class="hl-2">(</span><span class="hl-7">px</span><span class="hl-2">(</span><span class="hl-8">30</span><span class="hl-2">))</span><br/><span class="hl-2">              .</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">backgroundColor</span><span class="hl-2">(</span><span class="hl-3">color</span><span class="hl-2">)</span><br/><span class="hl-2">              .</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">userSelect</span><span class="hl-2">(</span><span class="hl-4">&#39;none&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">              .</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">transition</span><span class="hl-2">(</span><span class="hl-4">&#39;all  300ms ease&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">              .</span><span class="hl-7">class</span><span class="hl-2">(</span><span class="hl-4">&#39;testclass&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">              .</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">backgroundColor</span><span class="hl-2">(</span><span class="hl-7">createHoverColor</span><span class="hl-2">(</span><span class="hl-3">color</span><span class="hl-2">))</span><br/><span class="hl-2">              .</span><span class="hl-7">pseudo</span><span class="hl-2">(</span><span class="hl-4">&#39;:hover&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">              .</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">backgroundColor</span><span class="hl-2">(</span><span class="hl-7">createPressedColor</span><span class="hl-2">(</span><span class="hl-3">color</span><span class="hl-2">))</span><br/><span class="hl-2">              .</span><span class="hl-7">pseudo</span><span class="hl-2">(</span><span class="hl-4">&#39;:active&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">              .</span><span class="hl-7">out</span><span class="hl-2">(),</span><br/><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">// ./app.tsx</span><br/><span class="hl-1">import</span><span class="hl-2"> </span><span class="hl-3">cl</span><span class="hl-2"> </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&#39;./class.wtsc.ts&#39;</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">name</span><span class="hl-2"> = </span><span class="hl-4">&#39;app&#39;</span><span class="hl-2">,</span><br/><span class="hl-6">export</span><span class="hl-2"> const w = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">scoped</span><span class="hl-2">(</span><span class="hl-7">genHash</span><span class="hl-2">() + </span><span class="hl-3">name</span><span class="hl-2">)</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-1">default</span><span class="hl-2">  </span><span class="hl-7">defineCompution</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-3">name</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-7">setup</span><span class="hl-2">(){</span><br/><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> () </span><span class="hl-5">=&gt;</span><span class="hl-2">{</span><br/><span class="hl-2">    </span><span class="hl-5">const</span><span class="hl-2">  </span><span class="hl-6">c</span><span class="hl-2"> = </span><span class="hl-7">cl</span><span class="hl-2">(</span><span class="hl-3">w</span><span class="hl-2">)</span><br/><span class="hl-2">      </span><span class="hl-1">return</span><span class="hl-2"> (&lt;&gt;</span><br/><span class="hl-2">              &lt;</span><span class="hl-3">div</span><span class="hl-2"> :</span><span class="hl-3">class</span><span class="hl-2">=</span><span class="hl-4">&quot;[c]&quot;</span><span class="hl-2">&gt;</span><span class="hl-3">测试</span><span class="hl-2"> </span><span class="hl-5">class</span><span class="hl-2">&lt;/</span><span class="hl-9">div</span><span class="hl-2">&gt;</span><br/><span class="hl-2">              &lt;</span><span class="hl-9">div</span><span class="hl-2"> :</span><span class="hl-9">style</span><span class="hl-2">=</span><span class="hl-4">&quot;</span><span class="hl-11">[</span><br/><span class="hl-2">                </span><span class="hl-9">w</span><span class="hl-2">.</span><span class="hl-9">add</span><span class="hl-2">.</span><span class="hl-9">height</span><span class="hl-2">(</span><span class="hl-9">px</span><span class="hl-2">(</span><span class="hl-8">20</span><span class="hl-2">))</span><br/><span class="hl-2">                .</span><span class="hl-9">out</span><span class="hl-2">()</span><br/><span class="hl-2">                ,</span><br/><span class="hl-2">                </span><span class="hl-9">w</span><span class="hl-2">.</span><span class="hl-9">add</span><span class="hl-2">.</span><span class="hl-9">background</span><span class="hl-2">(</span><span class="hl-4">&#39;red&#39;</span><span class="hl-2">).</span><span class="hl-9">out</span><span class="hl-2">()</span><br/><span class="hl-2">              ]</span><span class="hl-4">&quot;&gt;简单样式&lt;/div</span><span class="hl-11">&gt;</span><br/><span class="hl-2">      &lt;/&gt;)</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">})</span>
</code></pre>

<a href="#沙箱" id="沙箱" style="color: inherit; text-decoration: none;">
  <h2>沙箱</h2>
</a>
<p>沙箱的作用是隔离作用域，沙箱的创建成本更低，适合用完就丢的任物如：</p>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">xxx</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">shandbox</span><span class="hl-2">((</span><span class="hl-3">wtsc</span><span class="hl-2">) </span><span class="hl-5">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">height</span><span class="hl-2">(</span><span class="hl-7">px</span><span class="hl-2">(</span><span class="hl-8">30</span><span class="hl-2">))</span><br/><span class="hl-2">})</span><br/><span class="hl-0">//或</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">xxx</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">shandbox</span><span class="hl-2">(</span><span class="hl-5">function</span><span class="hl-2"> () {</span><br/><span class="hl-2">  </span><span class="hl-5">this</span><span class="hl-2">.</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">height</span><span class="hl-2">(</span><span class="hl-7">px</span><span class="hl-2">(</span><span class="hl-8">30</span><span class="hl-2">))</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-3">consocle</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-3">xxx</span><span class="hl-2">) </span><span class="hl-0">//  height: 30px;</span>
</code></pre>
<p>在沙箱关闭前会自动将剩下的值导出,沙箱中修改任何内容关闭后数据都会丢失，比如 inject provide</p>
<p>沙箱的<code>&lt;style&gt;&lt;style&gt;</code>作用域默认继承父亲</p>
<ul>
<li>sham(&#39;name&#39;) 开启一个局部作用域，<code>&lt;style&gt;&lt;style&gt;</code>作用域默认继承父亲 <strong>sham 定义子 wtsc</strong></li>
<li>scoped(&#39;name&#39;) 定义一个包括<code>&lt;style&gt;&lt;style&gt;</code>隔离的 wtsc <strong>scoped 定义子 wtsc</strong></li>
<li>real() 获取父节点 <strong>real 返回父 wtsc</strong></li>
</ul>
<p>这两个 api 一定要成对出现，或者不要用的太多了，如果有一些没关掉，别弄出一些找不到的 bug，这两个 api 可以在多个文件内出现，这就是它的意义，你可以隔离一个不规整的作用域</p>

<a href="#响应化" id="响应化" style="color: inherit; text-decoration: none;">
  <h2>响应化</h2>
</a>
<p>响应化 api 的生成函数需要您把对应的响应 ref 函数传入进来，未来会增加 reactive 的响应 api 以及 vue2 的响应生成器</p>
<p>语法:</p>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">ref</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&#39;vue&#39;</span><br/><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">defRefProviderAPI</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&#39;@wormery/wtsc&#39;</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">defRefProvider</span><span class="hl-2"> = </span><span class="hl-7">defRefProviderAPI</span><span class="hl-2">(</span><span class="hl-3">ref</span><span class="hl-2">)</span>
</code></pre>
<p>得到的是一个 provider 的生成函数</p>
<p>具体简单使用:</p>
<p>下面用 vue3 的计算属性做简要测试</p>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">computed</span><span class="hl-2">, </span><span class="hl-3">ref</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&#39;vue&#39;</span><br/><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">defRefProviderAPI</span><span class="hl-2">, </span><span class="hl-3">defTypeWTSC</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&#39;@wormery/wtsc&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">wtsc</span><span class="hl-2"> = </span><span class="hl-7">defTypeWTSC</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-3">defProvider:</span><span class="hl-2"> </span><span class="hl-7">defRefProviderAPI</span><span class="hl-2">(</span><span class="hl-3">ref</span><span class="hl-2">),</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">key</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">provide</span><span class="hl-2">(</span><span class="hl-4">&#39;测试1&#39;</span><span class="hl-2">)</span><br/><br/><span class="hl-0">//我们定义一个计算属性</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">comV</span><span class="hl-2"> = </span><span class="hl-7">computed</span><span class="hl-2">(() </span><span class="hl-5">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">inject</span><span class="hl-2">(</span><span class="hl-3">key</span><span class="hl-2">)</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-0">//得到计算属性的值</span><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-3">comV</span><span class="hl-2">.</span><span class="hl-3">value</span><span class="hl-2">) </span><span class="hl-0">// 测试1</span><br/><br/><span class="hl-0">//我们给provide一个新值</span><br/><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">provide</span><span class="hl-2">(</span><span class="hl-4">&#39;测试2&#39;</span><span class="hl-2">, </span><span class="hl-3">key</span><span class="hl-2">)</span><br/><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-3">comV</span><span class="hl-2">.</span><span class="hl-3">value</span><span class="hl-2">) </span><span class="hl-0">// 测试2</span><br/><span class="hl-0">//代表响应被监听,comV的值因为我们set了一个v2而改变</span>
</code></pre>
<p>此测试是通过的</p>

<a href="#主题" id="主题" style="color: inherit; text-decoration: none;">
  <h2>主题</h2>
</a>
<p>主题必须要在 wtsc 声明前定义才会有类型补充（ts 局限）</p>
<ul>
<li>简单定义</li>
</ul>
<p>定义过程和使用过程都有完整的类型声明</p>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">wtsc</span><span class="hl-2"> = </span><span class="hl-7">defTypeWTSC</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-7">defThemeKeys</span><span class="hl-2">(</span><span class="hl-3">p</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-0">// 这里推荐用provide,这样有个默认值使用过程就不会undefined</span><br/><span class="hl-2">    </span><span class="hl-0">// 然后wtsc默认就会忽略掉undefined的项目</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-3">mainColor:</span><span class="hl-2"> </span><span class="hl-7">p</span><span class="hl-2">(</span><span class="hl-7">rgb</span><span class="hl-2">(</span><span class="hl-8">255</span><span class="hl-2">, </span><span class="hl-8">255</span><span class="hl-2">, </span><span class="hl-8">255</span><span class="hl-2">)),</span><br/><span class="hl-2">      </span><span class="hl-3">mainFontColor:</span><span class="hl-5">this</span><span class="hl-2">.</span><span class="hl-7">provide</span><span class="hl-2">(</span><span class="hl-7">rgb</span><span class="hl-2">(</span><span class="hl-8">14</span><span class="hl-2">, </span><span class="hl-8">14</span><span class="hl-2">, </span><span class="hl-8">14</span><span class="hl-2">)),</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">  </span><span class="hl-3">themeList:</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-3">dark:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-3">theme1:</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-3">mainColor:</span><span class="hl-2"> </span><span class="hl-7">rgb</span><span class="hl-2">(</span><span class="hl-8">20</span><span class="hl-2">, </span><span class="hl-8">20</span><span class="hl-2">, </span><span class="hl-8">20</span><span class="hl-2">),</span><br/><span class="hl-2">        </span><span class="hl-3">mainFontColor:</span><span class="hl-2"> </span><span class="hl-7">rgb</span><span class="hl-2">(</span><span class="hl-8">220</span><span class="hl-2">, </span><span class="hl-8">220</span><span class="hl-2">, </span><span class="hl-8">220</span><span class="hl-2">),</span><br/><span class="hl-2">      },</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-3">bright:</span><br/><span class="hl-2">      </span><span class="hl-3">theme2</span><span class="hl-2">: {</span><br/><span class="hl-2">        </span><span class="hl-3">mainColor:</span><span class="hl-2"> </span><span class="hl-7">rgb</span><span class="hl-2">(</span><span class="hl-8">255</span><span class="hl-2">, </span><span class="hl-8">255</span><span class="hl-2">, </span><span class="hl-8">255</span><span class="hl-2">),</span><br/><span class="hl-2">        </span><span class="hl-3">mainFontColor:</span><span class="hl-2"> </span><span class="hl-7">rgb</span><span class="hl-2">(</span><span class="hl-8">0</span><span class="hl-2">, </span><span class="hl-8">0</span><span class="hl-2">, </span><span class="hl-8">0</span><span class="hl-2">),</span><br/><span class="hl-2">      },</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">})</span>
</code></pre>
<ul>
<li>简单使用</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">the</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-3">mainColor</span><br/><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">background</span><span class="hl-2">(</span><span class="hl-3">the</span><span class="hl-2">.</span><span class="hl-3">mainColor</span><span class="hl-2">)</span><br/><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">value</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">inject</span><span class="hl-2">(</span><span class="hl-3">the</span><span class="hl-2">.</span><span class="hl-3">mainFontColor</span><span class="hl-2">)</span><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-3">value</span><span class="hl-2">.</span><span class="hl-7">out</span><span class="hl-2">()) </span><span class="hl-0">// &#39;rgb(14, 14, 14)&#39;</span>
</code></pre>
<ul>
<li>简单切换主题</li>
</ul>
<p>setTheme 函数中是有类型自动完成的，您不用担心您输入错误，可以放心大胆的切换主题，错误会得到一个警告不用担心，生产环境警告是会被删除的</p>
<pre><code class="language-typescript"><span class="hl-0">//根据上面定义，下面这句代码类型推演里只有 `&#39;dark’` `&#39;bright&#39;` `&#39;theme1&#39;` `&#39;theme2&#39;`</span><br/><span class="hl-0">//默认第一层主题色系在前面</span><br/><span class="hl-0">//输入下面会选中暗色主题</span><br/><span class="hl-0">//单独输入暗色主题不会修改暗色系中的主题选中情况，下面将默认选中暗色中的第一个主题，如果您以前已经选择了第二个，就会选中第二个主题</span><br/><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">setTheme</span><span class="hl-2">(</span><span class="hl-4">&#39;dark&#39;</span><span class="hl-2">)</span><br/><br/><span class="hl-0">//输入这个就会选中 `theme1` 主题</span><br/><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">setTheme</span><span class="hl-2">(</span><span class="hl-4">&#39;theme1&#39;</span><span class="hl-2">)</span><br/><br/><span class="hl-0">//当您在第一个里没输入 dark,第二个只会有 `theme1` 这个选项</span><br/><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">setTheme</span><span class="hl-2">(</span><span class="hl-4">&#39;dark&#39;</span><span class="hl-2">, </span><span class="hl-4">&#39;theme1&#39;</span><span class="hl-2">)</span><br/><br/><span class="hl-0">//当您第一个选中任何一个具体主题后，第二个选项输入任何内容都会报错，如下</span><br/><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">setTheme</span><span class="hl-2">(</span><span class="hl-4">&#39;theme2&#39;</span><span class="hl-2">, </span><span class="hl-3">任何内容</span><span class="hl-2">) </span><span class="hl-0">// 会报错，没有对应的重载</span>
</code></pre>

<a href="#inject" id="inject" style="color: inherit; text-decoration: none;">
  <h2>inject()</h2>
</a>
<p>inject 是一个注入器， 可以简单的注入需要的内容</p>
<ul>
<li>@author meke</li>
<li>@template R</li>
<li>@param {InjectKey<R>} injectKey</li>
<li>@param {R} [defau]</li>
<li>@return {*} {(R | undefined)}</li>
<li>@memberof Inject</li>
</ul>
<pre><code class="language-typescript"><span class="hl-0">// 注入得到一个key，可以通过这个key得到对应的值</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">injectkey</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">provide</span><span class="hl-2">(</span><span class="hl-4">&#39;你好啊&#39;</span><span class="hl-2">)</span><br/><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-5">typeof</span><span class="hl-2"> </span><span class="hl-3">injectkey</span><span class="hl-2">) </span><span class="hl-0">// InjectKey&lt;string&gt;</span><br/><br/><span class="hl-0">// 使用inject可以得到key所对应的值 类型为注入的类型</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">value</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">inject</span><span class="hl-2">(</span><span class="hl-3">injectkey</span><span class="hl-2">)</span><br/><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-5">typeof</span><span class="hl-2"> </span><span class="hl-3">value</span><span class="hl-2">) </span><span class="hl-0">// string | undefined</span><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-3">value</span><span class="hl-2">) </span><span class="hl-0">// &#39;你好啊&#39;</span>
</code></pre>
<p>同样的：</p>
<pre><code class="language-typescript"><span class="hl-0">// 注入得到一个key，可以通过这个key得到对应的值</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">injectkey</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">provide</span><span class="hl-2">(</span><span class="hl-8">3</span><span class="hl-2">)</span><br/><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-5">typeof</span><span class="hl-2"> </span><span class="hl-3">injectkey</span><span class="hl-2">) </span><span class="hl-0">// InjectKey&lt;number&gt;</span><br/><br/><span class="hl-0">// 使用inject可以得到key所对应的值 类型为注入的类型</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">value</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">inject</span><span class="hl-2">(</span><span class="hl-3">injectkey</span><span class="hl-2">)</span><br/><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-5">typeof</span><span class="hl-2"> </span><span class="hl-3">value</span><span class="hl-2">) </span><span class="hl-0">// number | undefined</span><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-3">value</span><span class="hl-2">) </span><span class="hl-0">// 3</span>
</code></pre>
<ul>
<li>默认值</li>
</ul>
<pre><code class="language-typescript"><span class="hl-0">// 注入得到一个key，可以通过这个key得到对应的值</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">injectkey</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">provide</span><span class="hl-2">(</span><span class="hl-8">3</span><span class="hl-2">)</span><br/><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-5">typeof</span><span class="hl-2"> </span><span class="hl-3">injectkey</span><span class="hl-2">) </span><span class="hl-0">// InjectKey&lt;number&gt;</span><br/><br/><span class="hl-0">// 使用inject可以得到key所对应的值 类型为注入的类型</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">value</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">inject</span><span class="hl-2">(</span><span class="hl-3">injectkey</span><span class="hl-2"> ， </span><span class="hl-8">10</span><span class="hl-2">)</span><br/><br/><span class="hl-0">// 这里有默认值后就会只剩下number类型了</span><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-5">typeof</span><span class="hl-2"> </span><span class="hl-3">value</span><span class="hl-2">) </span><span class="hl-0">// number</span><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-3">value</span><span class="hl-2">) </span><span class="hl-0">// 3</span>
</code></pre>
<p>我们可以定义一个不存在值的 key 使用 defInjKey() 或 wtsc.defInjKey()，目前这两个功能一样，未来可能会增加一些功能</p>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">key</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">defInjkey</span><span class="hl-2">&lt;</span><span class="hl-9">string</span><span class="hl-2">&gt;()</span><br/><br/><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">inject</span><span class="hl-2">(</span><span class="hl-3">key</span><span class="hl-2">, </span><span class="hl-8">10</span><span class="hl-2">) </span><span class="hl-0">//return 10</span><br/><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">inject</span><span class="hl-2">(</span><span class="hl-3">key</span><span class="hl-2">) </span><span class="hl-0">//return undefined</span>
</code></pre>

<a href="#definjkey" id="definjkey" style="color: inherit; text-decoration: none;">
  <h2>defInjKey()</h2>
</a>
<p>作用是定义一个 InjectKey</p>
<p>更建议使用包装后的 provide()和 depProvide()这两个 api 你可以当做有默认生成 InjectKey 的功能，provide 自动生成，depProvide 树状结构生成，它们都是从输入的值类型中推断 InjectKey 的类型</p>
<ul>
<li>defInjKey</li>
<li>@author meke</li>
<li>@export</li>
<li>@template T</li>
<li>@param {string} [describe]</li>
<li>@param {T} [value]</li>
<li>@return {*} {InjectKey<T>}</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">key</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">defInjKey</span><span class="hl-2">&lt;</span><span class="hl-9">string</span><span class="hl-2">&gt;()</span><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-5">typeof</span><span class="hl-2"> </span><span class="hl-3">key</span><span class="hl-2">) </span><span class="hl-0">// injectkey&lt;string&gt;</span>
</code></pre>

<a href="#provide" id="provide" style="color: inherit; text-decoration: none;">
  <h2>provide()</h2>
</a>
<ul>
<li>传入一个值返回一个{InjectKey}</li>
<li>@author meke</li>
<li>@template T</li>
<li>@param {T} value</li>
<li>@param {InjectKey<T>} [injectKey=defInjKey(&#39;provide&#39;)]</li>
<li>可以传入一个自定义 Injectkey 这样你可以输入描述等信息</li>
<li>@return {*} {InjectKey<T>}</li>
<li>@memberof Inject</li>
</ul>

<a href="#简单使用：" id="简单使用：" style="color: inherit; text-decoration: none;">
  <h3>简单使用：</h3>
</a>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">key</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">provide</span><span class="hl-2">(</span><span class="hl-4">&#39;你好&#39;</span><span class="hl-2">)</span><br/><span class="hl-5">typeof</span><span class="hl-2"> </span><span class="hl-3">key</span><span class="hl-2"> </span><span class="hl-0">//InjectKey&lt;string&gt;</span><br/><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">inject</span><span class="hl-2">(</span><span class="hl-3">key</span><span class="hl-2">) </span><span class="hl-0">// &#39;你好&#39;</span>
</code></pre>

<a href="#约束类型" id="约束类型" style="color: inherit; text-decoration: none;">
  <h3>约束类型</h3>
</a>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">key</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">provide</span><span class="hl-2">(</span><span class="hl-4">&#39;你好&#39;</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">&#39;你好&#39;</span><span class="hl-2">)</span><br/><span class="hl-5">typeof</span><span class="hl-2"> </span><span class="hl-3">key</span><span class="hl-2"> </span><span class="hl-0">//InjectKey&lt;‘你好’&gt;</span><br/><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">inject</span><span class="hl-2">(</span><span class="hl-3">key</span><span class="hl-2">) </span><span class="hl-0">// &#39;你好&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">key1</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">provide</span><span class="hl-2">(</span><span class="hl-8">3</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-8">3</span><span class="hl-2">)</span><br/><span class="hl-0">//请注意我们告诉了它类型为3，意思就是这个变量只可能是3，其他结果（4，5）都不符合</span><br/><span class="hl-0">//更多类型相关 tslang.cn</span><br/><span class="hl-5">typeof</span><span class="hl-2"> </span><span class="hl-3">key1</span><span class="hl-2"> </span><span class="hl-0">//InjectKey&lt;3&gt;</span>
</code></pre>

<a href="#带描述的-key" id="带描述的-key" style="color: inherit; text-decoration: none;">
  <h3>带描述的 key</h3>
</a>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">key</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">provide</span><span class="hl-2">(</span><span class="hl-4">&#39;你好帅&#39;</span><span class="hl-2">, </span><span class="hl-7">defInject</span><span class="hl-2">(</span><span class="hl-4">&#39;&#39;</span><span class="hl-2">))</span><br/><span class="hl-3">key</span><span class="hl-2">.[</span><span class="hl-6">IK</span><span class="hl-2">].</span><span class="hl-7">toString</span><span class="hl-2">() </span><span class="hl-0">// Symbol()</span>
</code></pre>

<a href="#add" id="add" style="color: inherit; text-decoration: none;">
  <h2>add()</h2>
</a>
<p>有两种使用方法
一种是当函数，一种是当对象，运行方案一样运行结果也一样</p>
<pre><code class="language-typescript"><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">add</span><span class="hl-2">(</span><span class="hl-4">&#39;height&#39;</span><span class="hl-2">, </span><span class="hl-7">px</span><span class="hl-2">(</span><span class="hl-8">20</span><span class="hl-2">))</span><br/><br/><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">height</span><span class="hl-2">(</span><span class="hl-7">px</span><span class="hl-2">(</span><span class="hl-8">20</span><span class="hl-2">))</span>
</code></pre>
<ul>
<li>有类型的</li>
</ul>
<p>如果输入 <code>wtsc.add.height(&#39;20&#39;)</code>会报错</p>
<ul>
<li>autoInjectKey 自动注入 InjectKey</li>
</ul>
<p>当为 add 传入 InjectKey 时将自动解包,当解包的 injectKey 为 undefined 时将跳过本条 css 样式处理，后面可能设计出更合理的方案</p>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">csshwStyle</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">provide</span><span class="hl-2">&lt;</span><span class="hl-9">CSSHWStyle</span><span class="hl-2">&gt;(</span><span class="hl-4">&#39;auto&#39;</span><span class="hl-2">)</span><br/><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">add</span><span class="hl-2">(</span><span class="hl-4">&#39;height&#39;</span><span class="hl-2">, </span><span class="hl-3">csshwStyle</span><span class="hl-2">)</span>
</code></pre>
<p>注意：直接使用<code>wtsc.provide(&#39;auto&#39;)</code>是会报错的，因为默认是一个 string 类型,
而 height 只允许使用 CSSHWStyle 类型你也可以使用<code>wtsc.provide&lt;&#39;auto&#39;&gt;(&#39;auto&#39;)</code>进行注入，
因为<code>CSSHWStyle</code>类型包括了<code>‘auto’</code>类型</p>

<a href="#out" id="out" style="color: inherit; text-decoration: none;">
  <h2>out()</h2>
</a>
<pre><code class="language-typescript"><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">all</span><span class="hl-2">(</span><span class="hl-4">&#39;inherit&#39;</span><span class="hl-2">).</span><span class="hl-7">out</span><span class="hl-2">() </span><span class="hl-0">// all: inherit;</span>
</code></pre>

<a href="#save" id="save" style="color: inherit; text-decoration: none;">
  <h2>save()</h2>
</a>
<pre><code class="language-typescript"><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">width</span><span class="hl-2">(</span><span class="hl-7">px</span><span class="hl-2">(</span><span class="hl-8">20</span><span class="hl-2">))</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">saveKey</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">save</span><span class="hl-2">()</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">stvleValue</span><span class="hl-2"> = </span><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-7">inject</span><span class="hl-2">(</span><span class="hl-3">savekey</span><span class="hl-2">) </span><span class="hl-0">// width: 20px;</span>
</code></pre>

<a href="#tostring" id="tostring" style="color: inherit; text-decoration: none;">
  <h2>toString()</h2>
</a>
<pre><code class="language-typescript"><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">meight</span><span class="hl-2">(</span><span class="hl-7">px</span><span class="hl-2">(</span><span class="hl-8">20</span><span class="hl-2">), </span><span class="hl-7">PE</span><span class="hl-2">(</span><span class="hl-8">30</span><span class="hl-2">)).</span><span class="hl-7">toString</span><span class="hl-2">()</span>
</code></pre>
<p>会输出如下:</p>
<pre><code class="language-css"><span class="hl-12">.wtsc</span><span class="hl-2"> {</span><br/><span class="hl-2">  meight: </span><span class="hl-8">20px</span><span class="hl-2"> </span><span class="hl-8">30%</span><span class="hl-2">;</span><br/><span class="hl-2">}</span>
</code></pre>
<ul>
<li>你也可以传入一个选择器值</li>
</ul>
<pre><code class="language-typescript"><span class="hl-3">wtsc</span><span class="hl-2">.</span><span class="hl-3">add</span><span class="hl-2">.</span><span class="hl-7">meight</span><span class="hl-2">(</span><span class="hl-7">px</span><span class="hl-2">(</span><span class="hl-8">20</span><span class="hl-2">), </span><span class="hl-7">PE</span><span class="hl-2">(</span><span class="hl-8">30</span><span class="hl-2">)).</span><span class="hl-7">toString</span><span class="hl-2">(</span><span class="hl-4">&#39;#wtsc&#39;</span><span class="hl-2">)</span>
</code></pre>
<p>out:</p>
<pre><code class="language-css"><span class="hl-12">#wtsc</span><span class="hl-2"> {</span><br/><span class="hl-2">  meight: </span><span class="hl-8">20px</span><span class="hl-2"> </span><span class="hl-8">30%</span><span class="hl-2">;</span><br/><span class="hl-2">}</span>
</code></pre>
<p>......</p>
<p><a href="https://wormery.github.io/wtsc/docs/">更多 api 文档点此处</a></p>
<p><a href="https://github.com/wormery/wtsc/blob/dev/CHANGELOG.md">更新记录点此处</a></p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/CSSValue.html">CSSValue</a></li><li class=" tsd-kind-module"><a href="modules/core.html">core</a></li><li class=" tsd-kind-module"><a href="modules/core.html">core</a></li><li class=" tsd-kind-module"><a href="modules/core_WTSC.html">core/WTSC</a></li><li class=" tsd-kind-module"><a href="modules/core_inject.html">core/inject</a></li><li class=" tsd-kind-module"><a href="modules/core_parser.html">core/parser</a></li><li class=" tsd-kind-module"><a href="modules/core_theme.html">core/theme</a></li><li class=" tsd-kind-module"><a href="modules/index.html">index</a></li><li class=" tsd-kind-module"><a href="modules/parsers.html">parsers</a></li><li class=" tsd-kind-module"><a href="modules/version.html">version</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li><li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li><li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>